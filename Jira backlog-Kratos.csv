Issue Id,Issue Type,Epic Name,Summary,Description,Parent,Module,Component,Execution Context,Acceptance Criteria,Story Points,Assignee,Reporter,Priority,Labels,Fix Versions,Sprint,Original Estimate,Remaining Estimate,Due Date,Attachment URL,External Id,Manifest Path,QA Status,Estimate Confidence
EPIC-SCAN-SEC-000,Epic,ScanSure — Security & Production Closeout,"Complete all MUST/CRITICAL production artifacts, wire secrets, run CI, and validate end‑to‑end in staging","Close all remaining operational, infra and security gaps so ScanSure is production‑grade and passes the verification checklist.",,ScanSure,Program,Cluster staging,All MUST verification gates green in staging per runbook.,13,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"security,production,kratos,keto,oathkeeper",v0.1-MVP,Sprint 1,14400,14400,,,EPIC-SCAN-SEC-000,infra/runbook/README_DEPLOY_STAGE.md,Planned,High
ST-SCAN-001,Story,Kratos Identity Schema,Add tenant_id + roles to Kratos identity schema and apply,Create and apply Kratos identity schema file so identities require tenant_id and roles; test whoami returns traits.,EPIC-SCAN-SEC-000,ScanSure,Identity,Kratos Admin,whoami returns tenant_id & roles for test sessions.,8,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"kratos,identity",v0.1-MVP,Sprint 1,7200,7200,,,ST-SCAN-001,infra/kratos/identity.schema.scansure.json,Planned,High
SUB-SCAN-001-01,Sub-task,Create Kratos identity schema file,Add JSON schema file for identities (tenant_id + roles),Create file infra/kratos/identity.schema.scansure.json with required tenant_id and roles trait.,ST-SCAN-001,ScanSure,Identity,Kratos Admin,Schema file exists in repo and lint passes.,3,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"kratos,identity",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-001-01,infra/kratos/identity.schema.scansure.json,Planned,High
SUB-SCAN-001-02,Sub-task,Apply Kratos schema via admin API,POST schema to Kratos admin and verify,Call Kratos admin endpoint to upsert schema and then create a test identity to validate sessions/whoami include tenant traits.,ST-SCAN-001,ScanSure,Identity,Kratos Admin,whoami for test identity shows tenant_id and roles.,5,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"kratos,identity",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-001-02,runbook/kratos-apply-schema.sh,Planned,High
ST-SCAN-002,Story,Server middleware: requireAdmin.audit,"Create server middleware that validates whoami server-side, enforces roles, and emits structured audit logs","Implement requireAdmin.audit middleware for admin API routes to call /sessions/whoami, enforce roles, and log structured JSON audits.",EPIC-SCAN-SEC-000,ScanSure,Server,Next/Express Admin API,"Unauthenticated requests 403; admin requests 200 and produce audit log entries including actor_id, email, tenant_id.",8,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"server,audit,rbac",v0.1-MVP,Sprint 1,7200,7200,,,ST-SCAN-002,kratos-selfservice-ui/src/lib/requireAdmin.audit.js,Planned,High
SUB-SCAN-002-01,Sub-task,Implement requireAdmin.audit.js,Add middleware file with whoami call and pino JSON logging,Create kratos-selfservice-ui/src/lib/requireAdmin.audit.js exporting middleware; include pino and error handling.,ST-SCAN-002,ScanSure,Server,Next/Express Admin API,Middleware file present and unit tests lint & pass.,3,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"server,audit",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-002-01,kratos-selfservice-ui/src/lib/requireAdmin.audit.js,Planned,High
SUB-SCAN-002-02,Sub-task,Protect all admin routes,Wrap admin APIs with middleware and test,Apply middleware to admin routes; validate 403 for no session and 403 for insufficient role; audit logs created for both accept/deny.,ST-SCAN-002,ScanSure,Server,Next/Express Admin API,403 on unauthenticated or insufficient role; successful admin actions logged.,5,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"server,rbac,audit",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-002-02,kratos-selfservice-ui/pages/api/admin/.js,Planned,High
ST-SCAN-003,Story,Tenant Onboarding API (transactional),"API: create tenant DB row, Kratos identity (tenant trait), call Keto bootstrap idempotently","Implement pages/api/admin/tenants.js: transactional DB insert, Kratos create identity with tenant trait, call keto-bootstrap, rollback on failures.",EPIC-SCAN-SEC-000,ScanSure,Server,Admin API,"DB row created, Kratos identity with tenant_id & roles, Keto tuples present, transaction committed.",13,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"tenants,onboarding,kratos,keto",v0.1-MVP,Sprint 1,14400,14400,,,ST-SCAN-003,kratos-selfservice-ui/pages/api/admin/tenants.js,Planned,High
SUB-SCAN-003-01,Sub-task,Implement DB transaction scaffolding,Add transactional DB code for tenant create,Add server/lib/db/transactions.js (or ORM pattern) to create tenant and rollback on error.,ST-SCAN-003,ScanSure,Server,Admin API/DB,DB transaction created and rollback tested.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"db,transaction",v0.1-MVP,Sprint 1,7200,7200,,,SUB-SCAN-003-01,server/lib/db/transactions.js,Planned,High
SUB-SCAN-003-02,Sub-task,Implement createKratosIdentity(),Function that POSTs to Kratos admin /identities with traits,"Add server/services/kratosClient.js with function createKratosIdentity({email,name,tenantId}) handling errors & retries.",ST-SCAN-003,ScanSure,Server,Admin API/Kratos,Kratos returns 201; identity traits include tenant_id & roles.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"kratos,api",v0.1-MVP,Sprint 1,7200,7200,,,SUB-SCAN-003-02,server/services/kratosClient.js,Planned,High
SUB-SCAN-003-03,Sub-task,Call keto-bootstrap service,POST tenantId to idempotent bootstrap and verify status,Have onboarding API call infra/keto/bootstrap service and ensure result is 'created' or 'exists'; rollback if bootstrap errors.,ST-SCAN-003,ScanSure,Server,Admin API/Keto,Bootstrap returns {status:'created'|'exists'}; safe to re-run.,5,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"keto,bootstrap,ci",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-003-03,infra/keto/bootstrap/server.js; Dockerfile,Planned,High
ST-SCAN-004,Story,Idempotent Keto bootstrap service,Containerized bootstrap service that reads Keto admin token from CSI secret and performs idempotent tuple creation,Implement infra/keto/bootstrap service with /bootstrap endpoint; read admin token from /mnt/secrets/keto_admin_token.,EPIC-SCAN-SEC-000,ScanSure,Infra,Keto Bootstrap,Service returns 'exists' when tuples already present and 'created' when created; safe to call repeatedly.,8,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"keto,bootstrap",v0.1-MVP,Sprint 1,7200,7200,,,ST-SCAN-004,infra/keto/bootstrap/server.js; Dockerfile,Planned,High
ST-SCAN-005,Story,AuthZ adapter + Envoy mTLS pattern,Deploy Envoy + authz adapter that parses client certs and enforces Keto checks,Envoy terminates mTLS from Oathkeeper and forwards verified client CN to adapter; adapter uses Keto admin API for authz decisions; tokens from CSI secret.,EPIC-SCAN-SEC-000,ScanSure,Infra,AuthZ (Envoy+Adapter),Envoy requires client cert; adapter accepts only verified CN and returns allow/deny; denies audited.,13,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"authz,envoy,keto",v0.1-MVP,Sprint 1,14400,14400,,,ST-SCAN-005,"infra/authz-adapter/{envoy-config.yaml,src,deployment.yaml}",Planned,High
SUB-SCAN-005-01,Sub-task,Create Envoy configmap and listener,ConfigMap with envoy-config.yaml implementing require_client_certificate true and upstream cluster to adapter,Create infra/authz-adapter/envoy-config.yaml and k8s configmap/deployment.,ST-SCAN-005,ScanSure,Infra,Envoy,Envoy pod becomes Ready and listens TLS requiring client cert.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"envoy,tls",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-005-01,infra/authz-adapter/envoy-config.yaml,Planned,High
SUB-SCAN-005-02,Sub-task,Implement adapter server,"Adapter that reads X‑Forwarded‑Client‑Cert, validates CN, calls Keto admin /admin/relation-tuples/check","Add infra/authz-adapter/src/server.js, package.json, Dockerfile; ensure token from /mnt/secrets/keto_admin_token.",ST-SCAN-005,ScanSure,Infra,Adapter,Adapter returns {allowed:true|false} and writes JSON audit logs.,6,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"adapter,keto,logging",v0.1-MVP,Sprint 1,7200,7200,,,SUB-SCAN-005-02,infra/authz-adapter/src/server.js,Planned,High
SUB-SCAN-005-03,Sub-task,Kubernetes deployment for adapter+envoy,Create infra/authz-adapter/deployment.yaml and service; mount secrets & certs via CSI/Secrets,Ensure Deployment mounts /mnt/secrets/keto_admin_token and certificate secrets oathkeeper-server-tls.,ST-SCAN-005,ScanSure,Infra,K8s Deploy,Adapter+Envoy Deployment ready with proper volumes and env vars.,3,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"k8s,deploy",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-005-03,infra/authz-adapter/deployment.yaml,Planned,High
ST-SCAN-006,Story,Oathkeeper declarative rules & CI deploy (OIDC→Vault),Repo rules deployed via CI; pipeline uses GitHub OIDC → Vault to fetch helm credentials then deploys Oathkeeper and smoke-checks,"Add .github/workflows/deploy-oathkeeper.yml, store rules in infra/charts/oathkeeper/templates/rules, smoke-check endpoint /health/ready and rollback on failure.",EPIC-SCAN-SEC-000,ScanSure,CI,Oathkeeper Helm/CI,CI deploys rules; smoke-check returns 200; helm rollback on failure.,8,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"ci,oathkeeper,helm,vault,oidc",v0.1-MVP,Sprint 1,7200,7200,,,ST-SCAN-006,.github/workflows/deploy-oathkeeper.yml,Planned,High
SUB-SCAN-006-01,Sub-task,Add tenant-isolation rules file,Add infra/charts/oathkeeper/templates/rules/tenant-isolation.json with rule set for admin and tenant isolation,Commit file and reference in chart values for rulesConfigMap.,ST-SCAN-006,ScanSure,CI,Oathkeeper Rules,Rules file present and validated by local JSON schema lint.,3,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"oathkeeper,rules",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-006-01,infra/charts/oathkeeper/templates/rules/tenant-isolation.json,Planned,High
SUB-SCAN-006-02,Sub-task,Add GitHub Actions OIDC→Vault workflow,"Implement workflow that uses GitHub OIDC to fetch Vault token, retrieves helm values, runs helm upgrade --install and health check",Add .github/workflows/deploy-oathkeeper.yml and secrets references (Vault role).,ST-SCAN-006,ScanSure,CI,GitHub Actions,Workflow runs and retrieves secret from Vault with OIDC; helm upgrade completes and /health/ready returns 200.,5,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"ci,github-actions,vault",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-006-02,.github/workflows/deploy-oathkeeper.yml,Planned,High
ST-SCAN-007,Story,Secrets at runtime: Vault + Secrets Store CSI,Configure Vault & SecretProviderClass so pods mount Kratos/Keto admin tokens and Oathkeeper certs,Create infra/vault/roles and infra/k8s/secretproviderclass.yaml; ensure tokens not stored in repo and are mounted at /mnt/secrets.,EPIC-SCAN-SEC-000,ScanSure,Infra,Secrets,"Pods mount /mnt/secrets/{kratos_admin_token,keto_admin_token} from Vault via CSI; no tokens in repo.",8,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"vault,secretstore,csi",v0.1-MVP,Sprint 1,7200,7200,,,ST-SCAN-007,infra/vault/secretproviderclass.yaml,Planned,High
SUB-SCAN-007-01,Sub-task,Create Vault policy & role for GitHub OIDC,Define Vault policy scansure/ci and OIDC role for GitHub actions to assume,Add infra/vault/policies/scansure-ci.hcl and infra/vault/roles/github-oidc-role.json.,ST-SCAN-007,ScanSure,Infra,Vault,Vault OIDC role created and GitHub action can exchange OIDC token for Vault token in staging.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"vault,oidc",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-007-01,infra/vault/policies/scansure-ci.hcl,Planned,High
SUB-SCAN-007-02,Sub-task,Create SecretProviderClass manifest,Add infra/k8s/secretproviderclass-scansure.yaml referencing Vault roles to mount secrets into pods,SecretProviderClass present and pods can mount secrets at /mnt/secrets/,ST-SCAN-007,ScanSure,Infra,K8s CSI,SecretProviderClass created and test pod mounts secret.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"csi,secretproviderclass",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-007-02,infra/k8s/secretproviderclass-scansure.yaml,Planned,High
ST-SCAN-008,Story,Certificates: cert-manager ClusterIssuer & TLS certs,"Create cert-manager ClusterIssuer and issue TLS certs for Oathkeeper, Envoy and app domains",Add infra/cert-manager/clusterissuer.yaml and Certificate manifests for oathkeeper.scansure and kratos.scansure; ensure certs Ready.,EPIC-SCAN-SEC-000,ScanSure,Infra,Certs/TLS,cert-manager ClusterIssuer ready and Certificate resources have status Ready with issued certs.,8,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"cert-manager,tls",v0.1-MVP,Sprint 1,7200,7200,,,ST-SCAN-008,infra/cert-manager/clusterissuer.yaml,Planned,High
SUB-SCAN-008-01,Sub-task,Add ClusterIssuer manifest,Create infra/cert-manager/clusterissuer.yaml using your ACME/Issuing CA,ClusterIssuer present and able to sign Certificates in staging.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"cert-manager,issuer",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-008-01,infra/cert-manager/clusterissuer.yaml,Planned,High,,,,,
SUB-SCAN-008-02,Sub-task,Add Certificate manifests,Add infra/cert-manager/certificate-oathkeeper.yaml and certificate-kratos.yaml for DNS names,Certificate resources present and status Ready.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"cert-manager,certificate",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-008-02,infra/cert-manager/certificate-oathkeeper.yaml,Planned,High,,,,,
ST-SCAN-009,Story,Admin API Helm chart & NetworkPolicy,Package admin API as Helm chart and add NetworkPolicy to restrict ingress to Oathkeeper/only trusted namespaces,Add infra/charts/admin-api and infra/k8s/networkpolicy-admin.yaml limiting ingress to oathkeeper namespace and kube-proxy.,EPIC-SCAN-SEC-000,ScanSure,Infra,Admin API / K8s,Helm chart deploys admin API; NetworkPolicy blocks external access except Oathkeeper and admin namespace.,8,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"helm,k8s,networkpolicy",v0.1-MVP,Sprint 1,7200,7200,,,ST-SCAN-009,"infra/charts/admin-api, infra/k8s/networkpolicy-admin.yaml",Planned,High
SUB-SCAN-009-01,Sub-task,Create Helm chart scaffold for admin API,"Add infra/charts/admin-api/{Chart.yaml,values.yaml,templates} and deployment templates",Chart lint passes and helm template renders.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"helm,chart",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-009-01,infra/charts/admin-api/,Planned,High,,,,,
SUB-SCAN-009-02,Sub-task,Add NetworkPolicy manifest,Create infra/k8s/networkpolicy-admin.yaml to restrict ingress to oathkeeper namespace and admin namespace only,NetworkPolicy applied and confirmed blocked from public namespace.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"k8s,networkpolicy",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-009-02,infra/k8s/networkpolicy-admin.yaml,Planned,High,,,,,
ST-SCAN-010,Story,Observability: OTLP Collector & structured audit logs,"Add OTLP collector config, ensure pino JSON audit logs are exported to OTLP and show in collector",Add infra/observability/collector-config.yaml and configure server & adapter to export JSON logs to OTLP endpoint.,EPIC-SCAN-SEC-000,ScanSure,Infra,Observability/Logging,"OTLP collector receives audit JSON events with actor_id,email,tenant_id,action,result,ip and test queries return expected logs.",8,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"observability,otlp,logs",v0.1-MVP,Sprint 1,7200,7200,,,ST-SCAN-010,infra/observability/collector-config.yaml,Planned,High
SUB-SCAN-010-01,Sub-task,Collector config and deployment,Add infra/observability/collector-config.yaml and helm chart or k8s deployment for collector,Collector starts and OTLP endpoint returns 200 for test trace/log export.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"otlp,collector",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-010-01,infra/observability/collector-config.yaml,Planned,High,,,,,
SUB-SCAN-010-02,Sub-task,Wire server & adapter to OTLP,Add export code in server and adapter to send pino JSON audit logs to OTLP (HTTP/gRPC),Server and adapter log to OTLP endpoint and logs visible in collector.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"logging,otlp",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-010-02,kratos-selfservice-ui/src/lib/logging-to-otlp.js,Planned,High,,,,,
ST-SCAN-011,Story,Playwright E2E: onboarding → isolation verification,"Create Playwright tests that exercise admin onboarding, Kratos identity creation, Keto bootstrap and cross‑tenant denial",Add infra/tests/playwright/* to run in CI against staging and produce artifacts.,EPIC-SCAN-SEC-000,ScanSure,QA,E2E Tests,Playwright tests pass in CI and verify tenant isolation scenario end‑to‑end.,8,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"e2e,playwright,tests",v0.1-MVP,Sprint 1,7200,7200,,,ST-SCAN-011,infra/tests/playwright/tenants.spec.ts,Planned,High
SUB-SCAN-011-01,Sub-task,Write onboarding E2E test,Create infra/tests/playwright/onboard-tenant.spec.ts to create tenant via admin UI and assert Kratos identity & Keto tuples exist,"Test creates tenant, checks DB row, calls Kratos admin whoami and verifies traits, calls Keto to assert relation tuple.",4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"playwright,e2e",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-011-01,infra/tests/playwright/onboard-tenant.spec.ts,Planned,High,,,,,
SUB-SCAN-011-02,Sub-task,Write cross-tenant denial test,Create infra/tests/playwright/cross-tenant.spec.ts to try resource access across tenants expecting 403,Test uses two identities and asserts adapter→Keto denies cross-tenant access and audit logs recorded.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"playwright,e2e",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-011-02,infra/tests/playwright/cross-tenant.spec.ts,Planned,High,,,,,
ST-SCAN-012,Story,Admin UI hardening & cookie/security headers,"Add HSTS, CSP, secure SameSite cookies, CSRF protection for admin UI, and content security policies","Update UI config, Next.js server headers, and cookie options; test with securityheaders.io or curl to validate headers.",EPIC-SCAN-SEC-000,ScanSure,UI,Admin UI Security,"Admin UI responds with HSTS, CSP, Secure cookie flags, SameSite=Lax/Strict per login flows; CSRF tokens required for POSTs.",8,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"security,ui,csp,csrf",v0.1-MVP,Sprint 1,7200,7200,,,ST-SCAN-012,kratos-selfservice-ui/next.config.js & src/lib/security.js,Planned,High
SUB-SCAN-012-01,Sub-task,Add security headers in Next config,"Edit next.config.js to add Strict-Transport-Security, Content-Security-Policy, X-Frame-Options, Referrer-Policy headers",Headers present in responses and verified by curl -I.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"headers,hsts,csp",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-012-01,kratos-selfservice-ui/next.config.js,Planned,High,,,,,
SUB-SCAN-012-02,Sub-task,Configure cookies + CSRF for admin API,"Ensure cookies set with Secure, HttpOnly and SameSite and add CSRF verification middleware for admin POSTs",Cookies have Secure and HttpOnly flags; CSRF token required and validated.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"cookies,csrf",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-012-02,kratos-selfservice-ui/src/lib/csrf.js,Planned,High,,,,,
ST-SCAN-013,Story,Unit tests & coverage for server components,"Add unit tests for middleware, kratos client, keto bootstrap logic, and adapter; run in CI with threshold >= 80% for these modules",Add tests under server/tests and configure jest in package.json; CI runs tests and fails pipeline on low coverage.,EPIC-SCAN-SEC-000,ScanSure,QA,Unit Tests,"Unit tests for middleware, kratosClient, db transactions, adapter reach >=80% coverage and pass in CI.",8,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"unit-test,coverage,jest",v0.1-MVP,Sprint 1,7200,7200,,,ST-SCAN-013,server/tests/,Planned,High
SUB-SCAN-013-01,Sub-task,Unit tests for requireAdmin.audit middleware,Create server/tests/requireAdmin.audit.spec.js to mock Kratos whoami and assert behavior,"Tests validate 403 on missing session, 403 on insufficient roles, 200 on admin and audit logs created.",4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"unit-test,middleware",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-013-01,server/tests/requireAdmin.audit.spec.js,Planned,High,,,,,
SUB-SCAN-013-02,Sub-task,Unit tests for kratosClient and createKratosIdentity,Create server/tests/kratosClient.spec.js to mock HTTP calls and assert payload shape and retries,"Tests cover 201 responses, 409 duplicate handling and retry/backoff.",4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"unit-test,kratos",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-013-02,server/tests/kratosClient.spec.js,Planned,High,,,,,
SUB-SCAN-013-03,Sub-task,Unit tests for keto-bootstrap logic,Create infra/keto/bootstrap/tests/bootstrap.spec.js to mock Keto admin API and verify idempotent behavior,Tests simulate existing tuples and tuple creation paths.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"unit-test,keto",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-013-03,infra/keto/bootstrap/tests/bootstrap.spec.js,Planned,High,,,,,
ST-SCAN-014,Story,"CI pipelines: admin API, authz adapter, Playwright E2E","Create GitHub Actions workflows for admin API helm deploy, adapter image build & push, and E2E test orchestration","Add .github/workflows/deploy-admin.yml, build-adapter.yml, and e2e.yml to run in sequence with OIDC→Vault for secrets.",EPIC-SCAN-SEC-000,ScanSure,CI,Pipelines,"CI builds adapter image, deploys admin API chart, runs Playwright tests and fails on smoke check; secrets fetched from Vault.",8,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"ci,github-actions,helm,playwright",v0.1-MVP,Sprint 1,7200,7200,,,ST-SCAN-014,".github/workflows/{deploy-admin.yml,build-adapter.yml,e2e.yml}",Planned,High
SUB-SCAN-014-01,Sub-task,Build and push adapter image in CI,Add workflow to build infra/authz-adapter Dockerfile and push to registry using OIDC→Vault or GHCR token,Image builds and is available in registry for Helm chart to pull.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"ci,docker,registry",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-014-01,.github/workflows/build-adapter.yml,Planned,High,,,,,
SUB-SCAN-014-02,Sub-task,Deploy admin API via CI pipeline,Add workflow that uses Vault secrets and helm to deploy admin API chart and waits for readiness probe,Workflow deploys chart; readiness endpoints return 200.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"ci,helm,deploy",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-014-02,.github/workflows/deploy-admin.yml,Planned,High,,,,,
SUB-SCAN-014-03,Sub-task,Run Playwright E2E in CI,Add workflow e2e.yml that runs Playwright tests against staging after deployments succeed,E2E workflow passes and artifacts uploaded for failures.,4,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"ci,e2e,playwright",v0.1-MVP,Sprint 1,3600,3600,,,SUB-SCAN-014-03,.github/workflows/e2e.yml,Planned,High,,,,,
ST-SCAN-015,Story,Final verification & runbook consolidation,"Run final checklist in staging, address any gaps, and produce final Runbook/Production rollout notes","Execute verification checklist items, rotate keys if required, and consolidate runbook at infra/runbook/FINAL_RUNBOOK.md",EPIC-SCAN-SEC-000,ScanSure,Program,Runbook/Verification,"All verification steps green, final runbook saved and signed off in staging.",5,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"runbook,verification,release",v0.1-MVP,Sprint 1,3600,3600,,,ST-SCAN-015,infra/runbook/FINAL_RUNBOOK.md,Planned,High
SUB-SCAN-015-01,Sub-task,Execute certification checklist,"Run the step-by-step validation checklist in staging (certs, secrets mounted, whoami, audit logs, cross-tenant deny, e2e)",Record results and capture logs and screenshots; escalate failures.,ST-SCAN-015,ScanSure,Program,Verification,Checklist items all green and evidence collected.,3,onboarding@techkasetti.com,onboarding@techkasetti.com,Highest,"verification,qa",v0.1-MVP,Sprint 1,1800,1800,,,SUB-SCAN-015-01,infra/runbook/VERIFICATION_CHECKLIST.md,Planned,High
